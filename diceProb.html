<h1>Dice Calculator</h1>

<p>Expression <input id="expr"></p>
<p>Value <input id="value"></p>

<p>
&lt= <input 
  type="radio" 
  name="condition"
  value="<="
  checked
  >
  
&lt <input 
  type="radio" 
  name="condition"
  value="<"
  >
  
&gt= <input 
  type="radio" 
  name="condition"
  value=">="
  >

&gt= <input 
  type="radio" 
  name="condition"
  value=">"
  >

== <input 
  type="radio" 
  name="condition"
  value="=="
  >

!= <input 
  type="radio" 
  name="condition"
  value="!="
  >
</p>

<p>
  <button id="button"
    onclick="calcProbs()">
    Calculate
  </button>
</p>

<h2 id="out"></h2>

<script src="Dice.js"></script>

<script>
  const expr = document
    .querySelector("#expr")
    
  const value = document
    .querySelector("#value")
    
  const output = document
    .querySelector("#out")
    
  const radio = f => {
    let radios = document
      .getElementsByName('condition')
      
    let selected = []
    
    for(i of radios){
      if(i.checked){
        return i.value
      }
    }
    
    return 
  }

  function calcProbs(){
    let dice = eval(
      Dice.expr(expr.value)
    )
    
    let chance = dice
      .chance(radio(),value.value)
    
    if(isNaN(chance)){
      chance = 0
    }
    
    output.innerHTML = chance + "%"
  }
  
  
  
</script>